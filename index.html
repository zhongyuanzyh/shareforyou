<!DOCTYPE html>
<html lang="en">
<head>
    <script data-ad-client="ca-pub-8081695460547937" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta charset="UTF-8">
    <meta name="description" content="shareforyou.online中文主页，免费提供youtube音频、视频下载，支持pc、iPhone、Android、平板">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ShareForYou YouTube 媒体免费下载平台</title>
    <link rel="stylesheet" type="text/css" href="./css/web.css">
    <link rel="icon" href="./images/favicon.ico" type="image/x-icon">
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">
        function convert() {
            // setTimeout(convert,1000);
            if ($("input[type=text]").val() ==="") {
                alert("请输入视频连接地址。");
                return false;
            }
            //var reg1 = /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;
            var reg = /https:\/\/(www+\.)+(youtube+\.)+(\/[\w- .\/?%&=]*)?/;
            var objExp=new RegExp(reg);
            var res = objExp.test($("#input").val());
            if (res === false){
                console.log(res);
                alert("请输入https开头的youtube网站视频地址。");
                return false;
            }
            $.ajax({
                type: "POST",
                dataType: "json",
                beforeSend:function(){
                    $("#converter").hide();
                    $("#loading").show();
                    $(".loadingDiv").show();
                },
                url: "/mpx" ,//url
                data: $('#form1').serialize(),
                success: function (data) {
                    console.log(data);
                    if (data.error_code === 102 ){
                        $("#loading").hide();
                        $(".loadingDiv").hide();
                        $("#converter").hide();
                        $("#errorValue")[0].innerHTML = "您下载的视频时长超过了30分钟，不好意思，我们暂不支持！";
                        $("#errorContent").show();
                    }else if (data.error_code === 103){
                        $("#loading").hide();
                        $(".loadingDiv").hide();
                        $("#converter").hide();
                        $("#downloadContent a")[0].innerHTML = data.video_info.title;
                        $("#downloadLink a").attr("href",data.download_url);
                        $("#downloadContent").show();
                    }else if (data.error_code === 101){
                        $("#loading").hide();
                        $(".loadingDiv").hide();
                        $("#converter").hide();
                        $("#errorValue")[0].innerHTML = "获取视频信息出错，请检查视频链接是否正确！";
                        $("#errorContent").show();
                    }else if (data.error_code === 104){
                        $("#loading").hide();
                        $(".loadingDiv").hide();
                        $("#converter").hide();
                        $("#errorValue")[0].innerHTML = "我们目前只能处理Youtube网站的视频，请检查您的网址链接！";
                        $("#errorContent").show();
                    }
                },
                error : function(request) {
                    alert("异常！");
                },
            });
        }
        function langChange(){
            var nSel = document.getElementById("languageBox");
            var index = nSel.selectedIndex;
            var text = nSel.options[index].text;
            var value= nSel.options[index].value;
            if (value === "opt1"){
                window.location.href = "/index.html";
            }else if (value === "opt2"){
                window.location.href = "/index-jp.html";
            }else if (value === "opt3"){
                window.location.href = "/index-en.html";
            } else if (value === "opt4"){
                window.location.href = "/index-th.html";
            }else if (value === "opt5"){
                window.location.href = "/index-vn.html";
            }else if(value === "opt6"){
                window.location.href = "/index-mm.html";
            }
        }
    </script>
</head>
<body>
    <div id="nav">
        <a href="http://jd.com" target="_blank">京东</a>
        <a href="http://sina.com" target="_blank">新浪</a>
        <a href="http://163.com" target="_blank">网易</a>
        <a href="http://qq.com" target="_blank">腾讯</a>
    </div>
    <div>
        <label for="languageBox"></label><select id="languageBox" onChange="langChange();">
            <option value="opt1">中文</option>
            <option value="opt2">日本語</option>
            <option value="opt3">English</option>
            <option value="opt4">ไทย</option>
            <option value="opt5">Tiếng Việt</option>
            <option value="opt6">ဗမာ</option>
        </select>
    </div>
    <div id="content">
        <a href="">
            <img id="logo" src="./images/mp3-zh.png" alt="shareforyou logo">
        </a>
        <div id="converter_wrapper">
            <div id="converter">
                <div id="title">请输入YouTube视频链接地址</div>
            <form id="form1" onsubmit="return false" action="##" method="post">
                <label for="input"></label><input id="input" type="text" name="video" autocomplete="off" value="" autofocus>
                <input id="submit" type="button" value="开始转换" onclick="convert()">
                <div id="checkbox">
                    请选择转换结果的格式：
                    <label>
                        <input class="media" type="radio" name="format" value="mp3" checked>
                    </label>音频
                    <label>
                        <input class="media" type="radio" name="format" value="mp4">
                    </label>视频
                </div>
            </form>
            </div>
            <div id="downloadContent">
              <div id="downloadTitle">YouTube视频转换后的下载地址</div>
              <div id="downloadLink">
                <a href="" download></a> 
              </div>
            </div>
            <div id="progressContent">
                <div id="progressTitle">任务下载进度</div>
                <div id="progressValue"></div>
            </div>
            <div id="errorContent">
                <div id="errorTitle">Youtube视频下载出错了</div>
                <div id="errorValue"></div>
            </div>
            <div id="loading">
                <div id="progressTitle">您的任务正在处理</div>
                <div class="loadingDiv"></div>
            </div>
        </div>
    <div id="separator"></div>
    <div id="text">
        <h1>ShareForYou</h1>
        <p>通过使用我们的转换器，您可以轻松地将YouTube视频转换为mp3（音频）或mp4（视频）文件并免费下载-此服务适用于计算机，平板电脑和移动设备。</p>
        <p>视频始终以最高的可用质量进行转换。请注意，我们最多只能转换30分钟的视频-这是有限制的，因此任何视频的转换不会超过几分钟。</p>
        <p>请举手之劳，帮忙点击广告，我们以此作为运营收入。我们的服务是免费的，不需要安装任何软件或注册。</p>
        <p>要转换视频，请将YouTube视频URL复制到我们的转换器中，选择一种格式，然后单击转换按钮。转换完成后，您可以通过单击下载链接来下载文件。</p>
        <p>请享用！希望您喜欢我们的服务。</p>
    </div>
    </div>
    <div id="footer">
        <a href="author.html" target="_blank">联系作者</a>
    </div>
</body>
</html>
